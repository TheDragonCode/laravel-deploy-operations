<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta property="og:url" content="https://deploy-operations.dragon-code.pro/upgrade-guide/6.x.html"><meta property="og:site_name" content="Laravel Deploy Operations"><meta property="og:title" content="Upgrading To 6.x from 5.x"><meta property="og:description" content="Upgrading To 6.x from 5.x High-Impact Changes Updating Dependencies Changed the namespace Changed the name of the main class Changed names of console commands Changed event name..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-05-22T20:34:47.000Z"><meta property="article:modified_time" content="2024-05-22T20:34:47.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Upgrading To 6.x from 5.x","image":[""],"dateModified":"2024-05-22T20:34:47.000Z","author":[]}</script><link rel="icon" href="https://deploy-operations.dragon-code.pro/images/logo.svg"><title>Upgrading To 6.x from 5.x | Laravel Deploy Operations</title><meta name="description" content="Upgrading To 6.x from 5.x High-Impact Changes Updating Dependencies Changed the namespace Changed the name of the main class Changed names of console commands Changed event name...">
    <link rel="preload" href="/assets/style-DScQzVZ8.css" as="style"><link rel="stylesheet" href="/assets/style-DScQzVZ8.css">
    <link rel="modulepreload" href="/assets/app-DbZK4p7a.js"><link rel="modulepreload" href="/assets/6.x.html-DY9RogRt.js">
    <link rel="prefetch" href="/assets/index.html-DwKTPCnS.js" as="script"><link rel="prefetch" href="/assets/database-data-dumper.html-BuMRa-z8.js" as="script"><link rel="prefetch" href="/assets/installation.html-DOPMiGSo.js" as="script"><link rel="prefetch" href="/assets/basic.html-CiK9s15G.js" as="script"><link rel="prefetch" href="/assets/creating.html-JnhIkMYz.js" as="script"><link rel="prefetch" href="/assets/customize-stub.html-CbdpRNrV.js" as="script"><link rel="prefetch" href="/assets/rollback.html-CQaDAaE4.js" as="script"><link rel="prefetch" href="/assets/running.html-N_msl3OB.js" as="script"><link rel="prefetch" href="/assets/status.html-DM6e5PlZ.js" as="script"><link rel="prefetch" href="/assets/artisan.html-DbIB7cqk.js" as="script"><link rel="prefetch" href="/assets/events.html-CBpK1C3k.js" as="script"><link rel="prefetch" href="/assets/execution-status.html-DeupbCjM.js" as="script"><link rel="prefetch" href="/assets/3.x.html-CaJEBeEi.js" as="script"><link rel="prefetch" href="/assets/4.x.html-tMO3lny9.js" as="script"><link rel="prefetch" href="/assets/5.x.html-BZVOe6V4.js" as="script"><link rel="prefetch" href="/assets/index.html-D6mopW5f.js" as="script"><link rel="prefetch" href="/assets/404.html-hvmn-GXk.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-D7pOKwvl.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="https://deploy-operations.dragon-code.pro/images/logo.svg" alt="Laravel Deploy Operations"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Laravel Deploy Operations</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="6.x"><span class="title">6.x</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="6.x"><span class="title">6.x</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/getting-started/installation.html" aria-label="6.x"><!---->6.x<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/TheDragonCode/laravel-deploy-operations/blob/5.x/docs/index.md" aria-label="5.x" rel="noopener noreferrer" target="_blank"><!---->5.x<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/TheDragonCode/laravel-deploy-operations/blob/4.x/docs/index.md" aria-label="4.x" rel="noopener noreferrer" target="_blank"><!---->4.x<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/TheDragonCode/laravel-deploy-operations/blob/3.x/docs/index.md" aria-label="3.x" rel="noopener noreferrer" target="_blank"><!---->3.x<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/TheDragonCode/laravel-deploy-operations" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="6.x"><span class="title">6.x</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="6.x"><span class="title">6.x</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/getting-started/installation.html" aria-label="6.x"><!---->6.x<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/TheDragonCode/laravel-deploy-operations/blob/5.x/docs/index.md" aria-label="5.x" rel="noopener noreferrer" target="_blank"><!---->5.x<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/TheDragonCode/laravel-deploy-operations/blob/4.x/docs/index.md" aria-label="4.x" rel="noopener noreferrer" target="_blank"><!---->4.x<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/TheDragonCode/laravel-deploy-operations/blob/3.x/docs/index.md" aria-label="3.x" rel="noopener noreferrer" target="_blank"><!---->3.x<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/TheDragonCode/laravel-deploy-operations" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Getting Started <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/" aria-label="Introduction"><!---->Introduction<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/getting-started/installation.html" aria-label="Installation"><!---->Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/basic.html" aria-label="Basic Usage"><!---->Basic Usage<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/upgrade-guide/" aria-label="Upgrade Guide"><!---->Upgrade Guide<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Guide <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/running.html" aria-label="Running Operations"><!---->Running Operations<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/creating.html" aria-label="Creating Operations"><!---->Creating Operations<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/status.html" aria-label="Operations Status"><!---->Operations Status<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/rollback.html" aria-label="Rolling Back Operations"><!---->Rolling Back Operations<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/customize-stub.html" aria-label="Customize Stub"><!---->Customize Stub<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Helpers <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/helpers/artisan.html" aria-label="Artisan Command"><!---->Artisan Command<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/helpers/events.html" aria-label="Events"><!---->Events<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/helpers/execution-status.html" aria-label="Execution Status"><!---->Execution Status<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Extras <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/extras/database-data-dumper.html" aria-label="Database Dumper"><!---->Database Dumper<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="upgrading-to-6-x-from-5-x" tabindex="-1"><a class="header-anchor" href="#upgrading-to-6-x-from-5-x"><span>Upgrading To 6.x from 5.x</span></a></h1><h2 id="high-impact-changes" tabindex="-1"><a class="header-anchor" href="#high-impact-changes"><span>High-Impact Changes</span></a></h2><ul><li><a href="#updating-dependencies">Updating Dependencies</a></li><li><a href="#changed-the-namespace">Changed the namespace</a></li><li><a href="#changed-the-name-of-the-main-class">Changed the name of the main class</a></li><li><a href="#changed-names-of-console-commands">Changed names of console commands</a></li><li><a href="#changed-event-names">Changed event names</a></li><li><a href="#configuration-file-name-changed">Configuration file name changed</a></li></ul><h2 id="minor-impact-changes" tabindex="-1"><a class="header-anchor" href="#minor-impact-changes"><span>Minor-Impact Changes</span></a></h2><ul><li><a href="#changed-directory-location">Changed directory location</a></li><li><a href="#database-transactions">Database transactions</a></li><li><a href="#removed-async-property">Removed <code>$async</code> property</a></li><li><a href="#removed-operationsstub-command">Removed <code>operations:stub</code> command</a></li><li><a href="#changed-property-typing-for-events">Changed property typing for events</a></li></ul><h2 id="low-impact-changes" tabindex="-1"><a class="header-anchor" href="#low-impact-changes"><span>Low-Impact Changes</span></a></h2><ul><li><a href="#stub-name-changed">Stub name changed</a></li></ul><h2 id="the-easiest-way-to-upgrade" tabindex="-1"><a class="header-anchor" href="#the-easiest-way-to-upgrade"><span>The easiest way to upgrade</span></a></h2><blockquote><p>Note If you used inheritance of actions from other actions, then you will need to process these files manually.</p></blockquote><p>For your convenience, we have created an <code>upgrade</code> console command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">composer</span> remove dragon-code/laravel-actions</span>
<span class="line"><span class="token function">composer</span> require dragon-code/laravel-deploy-operations:^6.0</span>
<span class="line"></span>
<span class="line">php artisan operations:upgrade</span>
<span class="line">php artisan migrate</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It will do the following:</p><ul><li>Changing the old namespace of “actions” to a new one</li><li>Moves files to a new location</li><li>Updates the configuration file</li><li>Rename the stub file (if published)</li></ul><p>Please note that the script allows you to automate most of the actions, but may not complete them completely. Therefore, you will need to manually check the result of the upgrade by checking this guide.</p><h2 id="updating-dependencies" tabindex="-1"><a class="header-anchor" href="#updating-dependencies"><span>Updating Dependencies</span></a></h2><p>You should change the package name in the <code>composer.json</code> file from <code>dragon-code/laravel-actions</code> to <code>dragon-code/laravel-deploy-operations</code>, and also change its version to <code>^6.0</code>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">        <span class="token property">&quot;dragon-code/laravel-deploy-operations&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.0&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then you need to update the dependencies:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">composer</span> update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="changed-the-namespace" tabindex="-1"><a class="header-anchor" href="#changed-the-namespace"><span>Changed the namespace</span></a></h2><p>The namespace has been changed from <code>DragonCode\LaravelActions</code> to <code>DragonCode\LaravelDeployOperations</code>.</p><p>You need to replace it in all actions of your application, as well as when using <a class="route-link" href="/helpers/events.html">events</a>.</p><h2 id="changed-the-name-of-the-main-class" tabindex="-1"><a class="header-anchor" href="#changed-the-name-of-the-main-class"><span>Changed the name of the main class</span></a></h2><p>You should replace <code>DragonCode\LaravelActions\Action</code> namespace with <code>DragonCode\LaravelDeployOperations\Operation</code>.</p><h2 id="changed-names-of-console-commands" tabindex="-1"><a class="header-anchor" href="#changed-names-of-console-commands"><span>Changed names of console commands</span></a></h2><table><thead><tr><th>New Name</th><th>Old Name</th></tr></thead><tbody><tr><td><code>make:operation</code></td><td><code>make:action</code></td></tr><tr><td><code>operations</code></td><td><code>actions</code></td></tr><tr><td><code>operations:fresh</code></td><td><code>actions:fresh</code></td></tr><tr><td><code>operations:install</code></td><td><code>actions:install</code></td></tr><tr><td><code>operations:refresh</code></td><td><code>actions:refresh</code></td></tr><tr><td><code>operations:reset</code></td><td><code>actions:reset</code></td></tr><tr><td><code>operations:rollback</code></td><td><code>actions:rollback</code></td></tr><tr><td><code>operations:status</code></td><td><code>actions:status</code></td></tr><tr><td><code>operations:stub</code></td><td><code>actions:stub</code></td></tr><tr><td><code>operations:upgrade</code></td><td><code>actions:upgrade</code></td></tr></tbody></table><h2 id="changed-event-names" tabindex="-1"><a class="header-anchor" href="#changed-event-names"><span>Changed event names</span></a></h2><table><thead><tr><th>New Name</th><th>Old Name</th></tr></thead><tbody><tr><td><code>DeployOperationStarted</code></td><td><code>ActionStarted</code></td></tr><tr><td><code>DeployOperationEnded</code></td><td><code>ActionEnded</code></td></tr><tr><td><code>DeployOperationFailed</code></td><td><code>ActionFailed</code></td></tr><tr><td><code>NoPendingDeployOperations</code></td><td><code>NoPendingActions</code></td></tr></tbody></table><p>Don&#39;t forget to also change the namespace from <code>DragonCode\LaravelActions\Events</code> to <code>DragonCode\LaravelDeployOperations\Events</code>.</p><h2 id="changed-property-typing-for-events" tabindex="-1"><a class="header-anchor" href="#changed-property-typing-for-events"><span>Changed property typing for events</span></a></h2><p>The type of the <code>method</code> property for events has been changed.</p><p>Before:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token keyword">use</span> <span class="token package">DragonCode<span class="token punctuation">\</span>LaravelActions<span class="token punctuation">\</span>Events<span class="token punctuation">\</span>ActionEnded</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token package">DragonCode<span class="token punctuation">\</span>LaravelDeployOperations<span class="token punctuation">\</span>Enums<span class="token punctuation">\</span>MethodEnum</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name">ActionEnded</span> */</span></span>
<span class="line"><span class="token variable">$event</span><span class="token operator">-&gt;</span><span class="token property">method</span><span class="token punctuation">;</span> <span class="token comment">// is string</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token keyword">use</span> <span class="token package">DragonCode<span class="token punctuation">\</span>LaravelDeployOperations<span class="token punctuation">\</span>Enums<span class="token punctuation">\</span>MethodEnum</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token package">DragonCode<span class="token punctuation">\</span>LaravelDeployOperations<span class="token punctuation">\</span>Events<span class="token punctuation">\</span>DeployOperationEnded</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name">DeployOperationEnded</span> */</span></span>
<span class="line"><span class="token variable">$event</span><span class="token operator">-&gt;</span><span class="token property">method</span><span class="token punctuation">;</span> <span class="token comment">// is MethodEnum</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="configuration-file-name-changed" tabindex="-1"><a class="header-anchor" href="#configuration-file-name-changed"><span>Configuration file name changed</span></a></h2><p>We recommend that you delete the old configuration file <code>config/actions.php</code> and publish a new one. This way you will see the changes made to it.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">php artisan vendor:publish <span class="token parameter variable">--provider</span><span class="token operator">=</span><span class="token string">&quot;DragonCode\LaravelDeployOperations\ServiceProvider&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="changed-names-of-constants" tabindex="-1"><a class="header-anchor" href="#changed-names-of-constants"><span>Changed names of constants</span></a></h2><p>If you use package constant references, you must also rename them.</p><p>The old name was in <code>UPPER_CASE</code>, the new one was in <code>PascalCase</code>.</p><p>For example:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token comment">// Old</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name-definition class-name">Names</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">ACTIONS</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;actions&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">FRESH</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;actions:fresh&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token comment">// New</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name-definition class-name">Names</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">Operations</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;operations&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">Fresh</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;operations:fresh&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="changed-directory-location" tabindex="-1"><a class="header-anchor" href="#changed-directory-location"><span>Changed directory location</span></a></h2><p>File storage directory changed to <code>operations</code> from <code>actions</code>.</p><h2 id="database-transactions" tabindex="-1"><a class="header-anchor" href="#database-transactions"><span>Database transactions</span></a></h2><p>The following properties have been removed:</p><ul><li><code>$transactions</code></li><li><code>$transactionAttempts</code></li></ul><p>Instead, you can use the <code>hasTransactions</code> and <code>transactionAttempts</code> methods.</p><p>The <code>enabledTransactions</code> method has been renamed to <code>hasTransactions</code>.</p><h2 id="removed-async-property" tabindex="-1"><a class="header-anchor" href="#removed-async-property"><span>Removed <code>$async</code> property</span></a></h2><p>The <code>$async</code> property has been removed from the base class. You can use the previously available <code>isAsync</code> method instead.</p><h2 id="stub-name-changed" tabindex="-1"><a class="header-anchor" href="#stub-name-changed"><span>Stub name changed</span></a></h2><p>If you published a stub file, then you also need to rename it from <code>stubs/action.stub</code> to <code>stubs/deploy-operation.stub</code> and make changes to its structure.</p><h2 id="removed-operations-stub-command" tabindex="-1"><a class="header-anchor" href="#removed-operations-stub-command"><span>Removed <code>operations:stub</code> command</span></a></h2><p>The <code>php artisan operations:stub</code> console command has been removed. Use another command instead:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">php artisan vendor:publish <span class="token parameter variable">--tag</span><span class="token operator">=</span>stubs <span class="token parameter variable">--provider</span><span class="token operator">=</span><span class="token string">&quot;DragonCode\LaravelDeployOperations\ServiceProvider&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/TheDragonCode/laravel-deploy-operations/edit/main/docs/upgrade-guide/6.x.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->Edit this page<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DbZK4p7a.js" defer></script>
  </body>
</html>
