import{_ as e,c as n,b as s,o as t}from"./app-DbZK4p7a.js";const i={};function o(c,a){return t(),n("div",null,a[0]||(a[0]=[s(`<h1 id="upgrading-to-4-x-from-3-x" tabindex="-1"><a class="header-anchor" href="#upgrading-to-4-x-from-3-x"><span>Upgrading To 4.x from 3.x</span></a></h1><h3 id="high-impact-changes" tabindex="-1"><a class="header-anchor" href="#high-impact-changes"><span>High-Impact Changes</span></a></h3><ul><li><a href="#rename-package-name">Rename package name</a></li><li><a href="#changing-the-names-of-console-commands">Changing the names of console commands</a></li></ul><h3 id="medium-impact-changes" tabindex="-1"><a class="header-anchor" href="#medium-impact-changes"><span>Medium Impact Changes</span></a></h3><ul><li><a href="#names-migrate-constant-name-changed"><code>Names::MIGRATE</code> constant name changed</a></li></ul><h3 id="low-impact-changes" tabindex="-1"><a class="header-anchor" href="#low-impact-changes"><span>Low Impact Changes</span></a></h3><ul><li><a href="#changed-the-default-name-of-the-table-for-storing-actions">Changed the default name of the table for storing actions</a></li></ul><h2 id="the-easiest-way-to-upgrade" tabindex="-1"><a class="header-anchor" href="#the-easiest-way-to-upgrade"><span>The easiest way to upgrade</span></a></h2><blockquote><p>Note If you used inheritance of actions from other actions, then you will need to process these files manually.</p></blockquote><p>For your convenience, we have created an <code>upgrade</code> console command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">composer</span> remove dragon-code/laravel-migration-actions</span>
<span class="line"><span class="token function">composer</span> require dragon-code/laravel-actions:^4.0</span>
<span class="line">php artisan actions:upgrade</span>
<span class="line">php artisan migrate</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It will do the following:</p><ul><li>Renaming manually invoked commands in a project to a new name</li></ul><h2 id="updating-dependencies" tabindex="-1"><a class="header-anchor" href="#updating-dependencies"><span>Updating Dependencies</span></a></h2><h3 id="rename-package-name" tabindex="-1"><a class="header-anchor" href="#rename-package-name"><span>Rename package name</span></a></h3><p>You should update the following dependency in your application&#39;s <code>composer.json</code> file:</p><p>Replace:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;dragon-code/laravel-migration-actions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>with</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;dragon-code/laravel-actions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then you need to update the dependencies:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">composer</span> update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="changing-the-names-of-console-commands" tabindex="-1"><a class="header-anchor" href="#changing-the-names-of-console-commands"><span>Changing the names of console commands</span></a></h2><table><thead><tr><th>Old Name</th><th>New Name</th></tr></thead><tbody><tr><td><code>php artisan make:migration:action</code></td><td><code>php artisan make:action</code></td></tr><tr><td><code>php artisan migrate:actions</code></td><td><code>php artisan actions</code></td></tr><tr><td><code>php artisan migrate:actions:install</code></td><td><code>php artisan actions:install</code></td></tr><tr><td><code>php artisan migrate:actions:fresh</code></td><td><code>php artisan actions:fresh</code></td></tr><tr><td><code>php artisan migrate:actions:refresh</code></td><td><code>php artisan actions:refresh</code></td></tr><tr><td><code>php artisan migrate:actions:reset</code></td><td><code>php artisan actions:reset</code></td></tr><tr><td><code>php artisan migrate:actions:rollback</code></td><td><code>php artisan actions:rollback</code></td></tr><tr><td><code>php artisan migrate:actions:status</code></td><td><code>php artisan actions:status</code></td></tr><tr><td><code>php artisan migrate:actions:upgrade</code></td><td><code>php artisan actions:upgrade</code></td></tr></tbody></table><h2 id="names-migrate-constant-name-changed" tabindex="-1"><a class="header-anchor" href="#names-migrate-constant-name-changed"><span><code>Names::MIGRATE</code> constant name changed</span></a></h2><p>Replace</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token class-name class-name-fully-qualified static-context">DragonCode<span class="token punctuation">\\</span>LaravelActions<span class="token punctuation">\\</span>Constants<span class="token punctuation">\\</span>Names</span><span class="token operator">::</span><span class="token constant">MIGRATE</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>with</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token class-name class-name-fully-qualified static-context">DragonCode<span class="token punctuation">\\</span>LaravelActions<span class="token punctuation">\\</span>Constants<span class="token punctuation">\\</span>Names</span><span class="token operator">::</span><span class="token constant">ACTIONS</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="changed-the-default-name-of-the-table-for-storing-actions" tabindex="-1"><a class="header-anchor" href="#changed-the-default-name-of-the-table-for-storing-actions"><span>Changed the default name of the table for storing actions</span></a></h2><p>The new table name is <code>actions</code>.</p><p>You can also specify any name in the application <a href="https://github.com/TheDragonCode/laravel-actions/blob/main/config/actions.php" target="_blank" rel="noopener noreferrer">settings</a>.</p>`,32)]))}const d=e(i,[["render",o],["__file","4.x.html.vue"]]),l=JSON.parse('{"path":"/upgrade-guide/4.x.html","title":"Upgrading To 4.x from 3.x","lang":"en-US","frontmatter":{"description":"Upgrading To 4.x from 3.x High-Impact Changes Rename package name Changing the names of console commands Medium Impact Changes Names::MIGRATE constant name changed Low Impact Ch...","head":[["meta",{"property":"og:url","content":"https://deploy-operations.dragon-code.pro/upgrade-guide/4.x.html"}],["meta",{"property":"og:site_name","content":"Laravel Deploy Operations"}],["meta",{"property":"og:title","content":"Upgrading To 4.x from 3.x"}],["meta",{"property":"og:description","content":"Upgrading To 4.x from 3.x High-Impact Changes Rename package name Changing the names of console commands Medium Impact Changes Names::MIGRATE constant name changed Low Impact Ch..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-05-22T20:24:51.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-22T20:24:51.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Upgrading To 4.x from 3.x\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-22T20:24:51.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":3,"title":"High-Impact Changes","slug":"high-impact-changes","link":"#high-impact-changes","children":[]},{"level":3,"title":"Medium Impact Changes","slug":"medium-impact-changes","link":"#medium-impact-changes","children":[]},{"level":3,"title":"Low Impact Changes","slug":"low-impact-changes","link":"#low-impact-changes","children":[]},{"level":2,"title":"The easiest way to upgrade","slug":"the-easiest-way-to-upgrade","link":"#the-easiest-way-to-upgrade","children":[]},{"level":2,"title":"Updating Dependencies","slug":"updating-dependencies","link":"#updating-dependencies","children":[{"level":3,"title":"Rename package name","slug":"rename-package-name","link":"#rename-package-name","children":[]}]},{"level":2,"title":"Changing the names of console commands","slug":"changing-the-names-of-console-commands","link":"#changing-the-names-of-console-commands","children":[]},{"level":2,"title":"Names::MIGRATE constant name changed","slug":"names-migrate-constant-name-changed","link":"#names-migrate-constant-name-changed","children":[]},{"level":2,"title":"Changed the default name of the table for storing actions","slug":"changed-the-default-name-of-the-table-for-storing-actions","link":"#changed-the-default-name-of-the-table-for-storing-actions","children":[]}],"git":{"updatedTime":1716409491000},"autoDesc":true,"filePathRelative":"upgrade-guide/4.x.md"}');export{d as comp,l as data};
